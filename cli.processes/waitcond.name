generic condition waiter: boolean, pid, file, idle
